<?xml version="1.0" encoding="UTF-8"?>
<assembly>
  <id>hawtio-embedded</id>
  <formats>
    <format>jar</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>
  <dependencySets>
    <dependencySet>
      <outputFileNameMapping>hawtio.war</outputFileNameMapping>
      <includes>
        <include>io.hawt:hawtio-default</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <unpack>true</unpack>
      <unpackOptions>
        <excludes>
          <!--
            Adding and overriding module-info from dependencies causes a lot of problems.
          -->
          <exclude>module-info.class</exclude>
        </excludes>
      </unpackOptions>
      <includes>
        <include>io.hawt:hawtio-embedded</include>
        <include>io.hawt:hawtio-connect</include>
        <include>jakarta.servlet:jakarta.servlet-api</include>
        <!-- Dependencies needed for Camel CLI Hawtio command to work -->
        <include>org.jolokia:jolokia-server-core</include>
        <include>org.jolokia:jolokia-service-serializer</include>
        <include>org.jolokia:jolokia-json</include>
        <include>org.apache.httpcomponents:httpcore</include>
        <include>org.apache.httpcomponents:httpclient</include>
        <include>commons-codec:commons-codec</include>
      </includes>
    </dependencySet>
  </dependencySets>
</assembly>
